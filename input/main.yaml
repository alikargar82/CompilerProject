# Minimal course metadata
name: "Course Name"
author: "Instructor Name"
description: "One-liner on what this course covers"
level: "beginner"   # or "intermediate" | "advanced"
tags: ["topic-a", "topic-b"]

# Optional student data pointers (you said this is important)
student_data:
  roster_file: "students/roster.csv"   # or .yaml
  capacity: 200                        # max seats
  classes_file: "students/classes.yaml"  # cohorts/sections
  enrollment_mode: "open"              # "open" | "invite" | "restricted"

# The only place that defines sequencing. No dates, no weights, no prereqs.
# 'modes' is where the DSL infers tools (you never declare tools directly).
flow:
  - type: "registration"               # special step (no ref required)
    modes: ["form"]                    # e.g., form, sso, external

  - type: "chapter"
    ref: "chapters/chapter1.yaml"
    modes: ["video", "text"]           # any number of modes

  - type: "quiz"
    ref: "quizzes/ch1_quiz.yaml"
    modes: ["mcq"]                     # e.g., mcq | coding | essay| file_read

  - type: "chapter"
    ref: "chapters/chapter2.yaml"
    modes: ["audio"]

  - type: "exam"
    ref: "exams/midterm.yaml"
    modes: ["essay"]                   # free label; compiler maps internally

  - type: "resource"
    ref: "resources/extra_reading.yaml"
    modes: ["mcq"]               

  - type: "exam"
    ref: "exams/final.yaml"
    modes: ["tf","essay","mcq"]
